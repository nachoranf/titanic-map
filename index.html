<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Viaje del Titanic Mejorado</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      font-family: sans-serif;
    }
    #map {
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      width: 100%;
      z-index: 0;
      pointer-events: none;
    }

    .trigger-container {
      height: 1500vh; /* más pasos = scroll suave */
      position: relative;
    }
    .step {
      position: absolute;
      top: 0;
      height: 100vh;
      width: 100%;
    }
    /* Colocar cada step uno debajo del otro */
    .step:nth-child(n) {
      top: calc((100vh * (var(--i))));
    }
  </style>
</head>
<body>

<div id="map"></div>

<div class="trigger-container">
  <!-- Generamos más pasos invisibles con JS -->
  <script>
    const triggerContainer = document.currentScript.parentElement;
    const totalSteps = 20;
    for (let i = 1; i <= totalSteps; i++) {
      const div = document.createElement('div');
      div.className = 'step';
      div.dataset.step = i;
      div.style.setProperty('--i', i - 1);
      triggerContainer.appendChild(div);
    }
  </script>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/scrollama"></script>
<script>
  const route = [
    [50.904, -1.404],     // Southampton
    [49.637, -1.617],     // Cherburgo
    [51.849, -8.294],     // Queenstown
    [49, -14],            // Atlántico 1
    [47, -20],            // Atlántico 2
    [45, -27],            // Atlántico 3
    [43, -33],            // Atlántico 4
    [42, -38],            // Atlántico
